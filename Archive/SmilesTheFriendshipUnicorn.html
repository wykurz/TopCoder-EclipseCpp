<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Smiles the Friendship Unicorn lives in the Friendship Kingdom. There are <b>N</b> people in the Friendship Kingdom, numbered from 0 to <b>N</b>-1. Some of them are friends with each other: you are given these pairs in the vector &lt;int&gt; <b>A</b> and the vector &lt;int&gt; <b>B</b>. For each valid i, the person numbered <b>A</b>[i] is friends with the person numbered <b>B</b>[i]. Friendship is two-way, so the person numbered <b>B</b>[i] is also friends with the person numbered <b>A</b>[i]. For every group containing between 1 and <b>N</b>-1 people (inclusive), at least one person in the group is friends with someone outside the group.
<br></br><br></br>
Smiles would like to know whether there exists a <i>friendship chain</i>. A friendship chain is a sequence of 5 <b>distinct</b> people A, B, C, D, and E such that:
<ul>
<li>A is friends with B.</li>
<li>B is friends with C.</li>
<li>C is friends with D.</li>
<li>D is friends with E.</li>
</ul>
(In the language of graph theory: a friendship chain is a simple path of length 4.)
<br></br><br></br>
If a friendship chain exists, output "Yay!". Otherwise, output ":(". (All quotes are for clarity only.)</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>SmilesTheFriendshipUnicorn</td></tr><tr><td>Method:</td><td>hasFriendshipChain</td></tr><tr><td>Parameters:</td><td>int, vector &lt;int&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>string</td></tr><tr><td>Method signature:</td><td>string hasFriendshipChain(int N, vector &lt;int&gt; A, vector &lt;int&gt; B)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 5 and 2000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>A</b> will contain between 1 and 2000 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>A</b> and <b>B</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>A</b> and <b>B</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>No one will be friends with themselves.</td></tr><tr><td align="center" valign="top">-</td><td>The same friendship will not be given twice in the input.</td></tr><tr><td align="center" valign="top">-</td><td>For every group containing between 1 and <b>N</b>-1 people (inclusive), at least one person in the group is friends with someone outside the group.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{0, 1, 2, 3}</pre></td></tr><tr><td><pre>{1, 2, 3, 4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;Yay!&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">A friendship chain is formed by:
<ul>
<li>Person 0</li>
<li>Person 1</li>
<li>Person 2</li>
<li>Person 3</li>
<li>Person 4</li>
</ul>
in that order. (The reverse order 4-3-2-1-0 is also a valid friendship chain.)</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{0, 1, 2, 3, 1}</pre></td></tr><tr><td><pre>{1, 2, 3, 0, 4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;Yay!&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">One example of a valid friendship chain is:
<ul>
<li>Person 4</li>
<li>Person 1</li>
<li>Person 2</li>
<li>Person 3</li>
<li>Person 0</li>
</ul></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>6</pre></td></tr><tr><td><pre>{0, 0, 0, 0, 0}</pre></td></tr><tr><td><pre>{1, 2, 3, 4, 5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;:(&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>8</pre></td></tr><tr><td><pre>{1, 3, 4, 3, 4, 3, 0, 2}</pre></td></tr><tr><td><pre>{7, 7, 7, 4, 6, 5, 4, 7}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;Yay!&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>{0, 1, 1, 5, 4, 5}</pre></td></tr><tr><td><pre>{5, 2, 3, 6, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;:(&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>42</pre></td></tr><tr><td><pre>{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41}
</pre></td></tr><tr><td><pre>{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;Yay!&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
